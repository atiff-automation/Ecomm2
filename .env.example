# ==================================================
# JRM E-commerce Platform - Environment Variables
# ==================================================
# Copy this file to .env and fill in your actual values
# REQUIRED variables must be set for the application to run
# ==================================================

# ==================================================
# ‚úÖ REQUIRED - Database Configuration
# ==================================================
# PostgreSQL connection string
# Railway: Automatically provided by Railway Postgres plugin
# Local: postgresql://username:password@localhost:5432/database_name
DATABASE_URL="postgresql://username:password@localhost:5432/database_name"

# Direct database URL for migrations (optional, same as DATABASE_URL if not using pooling)
DIRECT_URL="postgresql://username:password@localhost:5432/database_name"

# ==================================================
# ‚úÖ REQUIRED - Authentication (NextAuth)
# ==================================================
# Your application URL
# Railway: https://your-app.railway.app
# Local: http://localhost:3000
NEXTAUTH_URL="http://localhost:3000"

# Session encryption secret (MUST be at least 32 characters)
# Generate with: openssl rand -base64 32
# CRITICAL: Change this for production!
NEXTAUTH_SECRET="your-32-character-or-longer-secret-key-here"

# ==================================================
# ‚ö†Ô∏è OPTIONAL - Redis (Upstash) for Rate Limiting & Caching
# ==================================================
# NOTE: Application uses in-memory rate limiting by default
# Only configure these if you want distributed rate limiting across multiple instances
# Upstash Redis REST API URL
# Get from: https://console.upstash.com/
# Example: https://your-redis-name.upstash.io
UPSTASH_REDIS_REST_URL="https://your-redis.upstash.io"

# Upstash Redis REST API Token
# Get from: https://console.upstash.com/
UPSTASH_REDIS_REST_TOKEN="your-upstash-redis-token-here"

# ==================================================
# ‚ö†Ô∏è OPTIONAL - Email (Resend) for Notifications
# ==================================================
# Resend API key for sending emails
# Get from: https://resend.com/api-keys
RESEND_API_KEY="re_your_resend_api_key"

# From email address (must be verified in Resend)
FROM_EMAIL="noreply@yourdomain.com"

# ==================================================
# ‚ö†Ô∏è OPTIONAL - Payment Gateway (ToyyibPay) for Malaysian Market
# ==================================================
# ToyyibPay Secret Key
# Get from: https://toyyibpay.com/
TOYYIBPAY_SECRET_KEY="your-toyyibpay-secret-key"

# ToyyibPay Category Code
TOYYIBPAY_CATEGORY_CODE="your-category-code"

# Sandbox mode (true for testing, false for production)
TOYYIBPAY_SANDBOX="true"

# ==================================================
# ‚ö†Ô∏è OPTIONAL - Telegram Notifications
# ==================================================
# Telegram Bot Token (create bot via @BotFather)
TELEGRAM_BOT_TOKEN="your-bot-token-here"

# Telegram Chat ID for order notifications
TELEGRAM_ORDERS_CHAT_ID="your-orders-chat-id"

# Telegram Chat ID for inventory notifications
TELEGRAM_INVENTORY_CHAT_ID="your-inventory-chat-id"

# Encryption key for Telegram config storage
# Generate with: openssl rand -base64 32
TELEGRAM_CONFIG_ENCRYPTION_KEY="your-encryption-key-here"

# ==================================================
# ‚ö†Ô∏è OPTIONAL - File Upload Configuration
# ==================================================
# Path for uploaded files (relative to project root)
UPLOAD_PATH="./public/uploads"

# Maximum file size in bytes (default: 5MB)
MAX_FILE_SIZE="5242880"

# ==================================================
# üö´ DEPRECATED - Old Redis Configuration (DO NOT USE)
# ==================================================
# These variables are no longer used - application uses in-memory rate limiting
# REDIS_HOST="localhost"
# REDIS_PORT="6379"
# REDIS_PASSWORD="your-redis-password"
# REDIS_URL="redis://localhost:6379"

# ==================================================
# Railway Deployment Notes
# ==================================================
# When deploying to Railway, set these REQUIRED environment variables in Railway dashboard:
# 1. DATABASE_URL - Automatically set when you add Postgres plugin
# 2. NEXTAUTH_SECRET - Generate with: openssl rand -base64 32
# 3. NEXTAUTH_URL - Set to your Railway domain (e.g., https://your-app.railway.app)
#
# Optional variables (add as needed):
# - UPSTASH_REDIS_REST_URL & UPSTASH_REDIS_REST_TOKEN (for distributed rate limiting)
# - RESEND_API_KEY & FROM_EMAIL (for email notifications)
# - TOYYIBPAY_SECRET_KEY & TOYYIBPAY_CATEGORY_CODE (for payments)
# - TELEGRAM_BOT_TOKEN & related (for Telegram notifications)
# ==================================================
